function TinyDatePicker(e,t){"use strict";function n(){b||(c(g.parse(e.value)),document.body.appendChild(y),setTimeout(function(){y.className+=" dp-visible",r()},1))}function a(){document.body.contains(y)&&(b=1,e.focus(),e.selectionEnd=e.selectionStart,y.parentNode.removeChild(y),y.className=y.className.replace(" dp-visible",""),setTimeout(function(){b=0},1))}function o(){y.innerHTML=f(m,g).innerHTML,r()}function r(){y.querySelector(".dp-selected").focus()}function s(t){e.value=t?g.format(t):"",c(t),a()}function c(e){e&&(m=e,o())}function u(e){return function(){m.setDate(m.getDate()+e),c(m)}}function d(e){return function(){var t=new Date(m);t.setDate(1),e>0&&t.setMonth(t.getMonth()+2),t.setDate(t.getDate()-1),m.getDate()<t.getDate()&&t.setDate(m.getDate()),c(t)}}function i(e){return function(t){var n=e[t.which];n&&/dp-selected/.test(t.target.className)&&(t.preventDefault(),n())}}function l(e){return function(t){t.target.className.split(/[\s]+/g).forEach(function(n){e[n]&&e[n](t)})}}function p(e){return v({format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?new Date:t},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close"},e)}function f(e,t){function n(){return'<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+t.months[e.getMonth()]+'</span><span class="dp-year">'+e.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+a()+o()+'</div><footer class="dp-footer"><button class="dp-today">'+t.today+'</button><button class="dp-clear">'+t.clear+'</button><button class="dp-close">'+t.close+"</button></footer></div></div>"}function a(){for(var e="",n=0;7>n;++n)e+='<span class="dp-day-of-week">'+t.days[n]+"</span>";return e}function o(){var t=new Date(e),n="";t.setDate(1),t.setDate(t.getDate()-t.getDay());for(var a=0;42>a;++a){var o=t.getDate(),r="dp-day",s=t.toDateString()==e.toDateString(),c=t.toDateString()===(new Date).toDateString(),u=t.getMonth()!==e.getMonth(),d=s?"a":"span";s&&(r+=" dp-selected"),u&&(r+=" dp-edge-day"),c&&(r+=" dp-day-today"),n+="<"+d+' href="#" class="'+r+'" data-dp="'+t.getTime()+'">'+o+"</"+d+">",t.setDate(o+1)}return n}var r=document.createElement("div");return r.innerHTML=n(),r.firstChild}function D(e,t,n){e.addEventListener(t,n,!0)}function v(e,t){for(var n in t)e[n]=t[n];return e}var g=p(t),m=g.parse(e.value),y=f(m,g),b=!1;e.readOnly=!0,D(e,"focus",n),D(e,"click",n),D(y,"keydown",i({37:u(-1),38:u(-7),39:u(1),40:u(7),13:function(){s(m)}})),D(y,"click",l({"dp-clear":function(){s()},"dp-close":a,"dp-wrapper":a,"dp-prev":d(-1),"dp-next":d(1),"dp-today":function(){s(new Date)},"dp-day":function(e){var t=e.target.getAttribute("data-dp");t&&s(new Date(parseInt(t)))}})),D(y,"mousedown",function(e){~["A","BUTTON"].indexOf(e.target.tagName)||e.preventDefault()}),D(y,"blur",function(e){setTimeout(function(){y.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map