function TinyDatePicker(e,t){"use strict";function n(){T||(i(g.parse(e.value)),E.appendChild(w),E.appendChild(M),setTimeout(function(){w.className+=" dp-visible",r()},1))}function a(){E.contains(w)&&(T=1,e.focus(),e.selectionEnd=e.selectionStart,E.removeChild(w),E.removeChild(M),w.className=w.className.replace(" dp-visible",""),setTimeout(function(){T=0},1))}function o(){w.innerHTML=m(y,g).innerHTML,r()}function r(){w.querySelector(".dp-selected").focus()}function u(t){d(t)&&(e.value=t?g.format(t):"",i(t),a(),e.dispatchEvent(new C("change",{bubbles:!0})))}function i(e){e&&(y=e,o())}function s(e){return function(){y.setDate(y.getDate()+e),i(y)}}function c(e){return function(){var t=new Date(y);t.setDate(1),e>0&&t.setMonth(t.getMonth()+2),t.setDate(t.getDate()-1),y.getDate()<t.getDate()&&t.setDate(y.getDate()),i(t)}}function d(e){var t=g.min?new Date(g.min).getTime():null,n=g.max?new Date(g.max).getTime():null;if(!t&&!n)return!0;e="String"==typeof e?new Date(e):e;var a=e?e.getTime():Date.now();return!(t&&a<t)&&!(n&&a>n)}function l(e){return function(t){var n=e[t.which];n&&/dp-selected/.test(t.target.className)&&(t.preventDefault(),n())}}function p(e){return function(t){t.target.className.split(/[\s]+/g).forEach(function(n){e[n]&&e[n](t)})}}function f(e){return b({format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?new Date:t},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close",min:null,max:null},e)}function m(e,t){function n(){for(var e="",n=0;n<7;++n)e+='<span class="dp-day-of-week">'+t.days[n]+"</span>";return e}function a(){var t=new Date(e),n="";t.setDate(1),t.setDate(t.getDate()-t.getDay());for(var a=0;a<42;++a){var o=t.getDate(),r="dp-day",u=t.toDateString()==e.toDateString(),i=t.toDateString()===(new Date).toDateString(),s=t.getMonth()!==e.getMonth(),c=u?"a":"span",l=!d(t);u&&(r+=" dp-selected"),s&&(r+=" dp-edge-day"),i&&(r+=" dp-day-today"),l&&(r+=" dp-day-disabled"),n+="<"+c+' href="#" class="'+r+'" data-dp="'+t.getTime()+'">'+o+"</"+c+">",t.setDate(o+1)}return n}return D('<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+t.months[e.getMonth()]+'</span><span class="dp-year">'+e.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+n()+a()+'</div><footer class="dp-footer"><button class="dp-today">'+t.today+'</button><button class="dp-clear">'+t.clear+'</button><button class="dp-close">'+t.close+"</button></footer></div></div>")}function v(e,t,n){e.addEventListener(t,n,!0)}function b(e,t){for(var n in t)e[n]=t[n];return e}function D(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var g=f(t),y=g.parse(e.value),h=d(y);h||(y=g.min?g.parse(g.min):g.parse(g.max),e.value=g.format(y));var w=m(y,g),T=!1,M=D('<button style="position: absolute; width: 1; height: 1; overflow: hidden; border: 0; background: transparent; top: 0;"></button>'),E=document.body,C=window.CustomEvent;e.readOnly=!0,function(){return"function"!=typeof C&&(C=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},void(C.prototype=window.Event.prototype))}(),v(e,"focus",n),v(e,"click",n),v(w,"keydown",l({37:s(-1),38:s(-7),39:s(1),40:s(7),13:function(){u(y)},27:a})),v(w,"click",p({"dp-clear":function(){u()},"dp-close":a,"dp-wrapper":a,"dp-prev":c(-1),"dp-next":c(1),"dp-today":function(){u(new Date)},"dp-day":function(e){var t=e.target.getAttribute("data-dp");t&&u(new Date(parseInt(t)))}})),v(w,"mousedown",function(e){e.preventDefault()}),v(w,"blur",function(e){setTimeout(function(){w.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map